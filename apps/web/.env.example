# Clerk Authentication
# Get these from https://dashboard.clerk.com → API Keys
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...

# Database (Supabase PostgreSQL)
# Pooled connection (for app runtime) — matches Supabase-Vercel integration naming
# Get this from https://supabase.com → Project Settings → Database → Connection string (URI) → Connection pooling
POSTGRES_PRISMA_URL=postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?pgbouncer=true

# Direct connection (for Prisma CLI: db push, migrate, studio)
# Get this from https://supabase.com → Project Settings → Database → Connection string (URI) → Direct
POSTGRES_URL_NON_POOLING=postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres

# UploadThing (https://uploadthing.com/dashboard)
UPLOADTHING_TOKEN=your_token_here

# GitHub (optional — enables contributor stats)
# Create a Personal Access Token (classic) at https://github.com/settings/tokens
# No scopes needed for public repos; add "repo" scope for private repos
GITHUB_TOKEN=ghp_...

# Upstash Redis (caching + rate limiting)
# Create a database at https://console.upstash.com → Redis → Create Database
# Copy REST URL and Token from the database details page
UPSTASH_REDIS_REST_URL=https://your-db.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_token_here

# Upstash QStash (background jobs — enables scheduled GitHub sync)
# Get these from https://console.upstash.com → QStash → Details
QSTASH_URL=https://qstash.upstash.io
QSTASH_TOKEN=your_token_here
QSTASH_CURRENT_SIGNING_KEY=your_key_here
QSTASH_NEXT_SIGNING_KEY=your_key_here

# Clerk Webhook (auto-links Person records on signup)
# Create a webhook at https://dashboard.clerk.com → Webhooks → Add Endpoint
# Set event: user.created, copy the Signing Secret
# CLERK_WEBHOOK_SECRET=whsec_...

# E2E test database reset (preview deployments only)
# Generate a random secret: openssl rand -hex 32
# Set this in Vercel preview environment variables AND as a GitHub Actions secret
# E2E_RESET_SECRET=your_random_secret_here

# App
NEXT_PUBLIC_APP_URL=http://localhost:3000
